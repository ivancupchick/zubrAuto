<p-toolbar>
    <div class="p-toolbar-group-left">
        <span style="color: white">Домен</span>
        <p-dropdown appendTo="body" [autoDisplayFirst]="true" [options]="domains" [(ngModel)]="selectedDomain" (onChange)="onChangeDomain($event)" optionLabel="name" optionValue="code"></p-dropdown>
        <button pButton type="button" label="Новое поле" icon="pi pi-plus" (click)="openNewField()"></button>

        <i class="pi pi-bars"></i>
    </div>

    <!-- <div class="p-toolbar-group-right">
        <p-button icon="pi pi-search"></p-button>
        <p-button icon="pi pi-calendar" styleClass="p-button-success"></p-button>
        <p-button icon="pi pi-times" styleClass="p-button-danger"></p-button>
    </div> -->
</p-toolbar>
<div class="grid-wrapper">
  <p-table [value]="sortedFields">
    <ng-template pTemplate="header">
          <tr>
              <th>Id</th>
              <th>Системное имя</th>
              <th>Название</th>
              <th>Тип</th>
              <th style="width:8rem"></th>
          </tr>
    </ng-template>
    <ng-template pTemplate="body" let-field>
          <tr>
              <td>{{field.id}}</td>
              <td>{{field.name}}</td>
              <td>{{field.title}}</td>
              <td>{{field.type}}</td>
              <td>
                  <button type="button" pButton pRipple icon="pi pi-times" class="p-button-danger" (click)="deleteField(field)"></button>
                  <button style="margin-left: 5px;" type="button" pButton pRipple icon="pi pi-pencil" class="p-button-secondary" (click)="updateField(field)"></button>
              </td>
          </tr>
    </ng-template>
  </p-table>
</div>

<za-spinner *ngIf="loading"></za-spinner>
